###### tags: `Two pointer`

# [M] 80. Remove Duplicates from Sorted Array II
問題描述：
給定一個增序排列數組，刪除重複出現的元素，使得每個元素最多出現兩次，返回新的數組長度。

範例：
```java=
輸入：nums = [1,1,1,2,2,3]
輸出：5，nums = [1,1,2,2,3]
```

解法：

這道題目是 26. Remove Duplicates from Sorted Array 的延伸。和原題不同的是，這裡需要保證每個元素最多出現兩次，而不是一次。

這道題目可以使用雙指針的方法來解決，需要注意的是，因為每個元素最多出現兩次，所以判斷重複的時候需要比較 i-2 位置的元素和當前元素是否相等。

程式碼如下：
```java=
class Solution {
    public int removeDuplicates(int[] nums) {
        int i = 2;  // i 記錄下一個要替換的位置

        // 遍歷整個數組，從第三個元素開始，因為前兩個元素不可能重複超過兩次
        for(int j = 2; j < nums.length; j++){
            // 如果當前元素和 i-2 位置的元素不相等，則將這個元素加入到 i 的位置
            if(nums[j] != nums[i - 2]){
                nums[i++] = nums[j];
            }
        }

        return i;  // 返回 i 就是新數組的長度
    }
}
```

解題思路：

我們可以使用雙指針的方法，使用一個快指針和一個慢指針。其中慢指針指向最後一個不重複元素的位置，快指針用來遍歷數組。

這裡的解法和上面的解法類似，但是更加簡潔，使用一個變量 i 記錄下一個要替換的位置。

遍歷數組時，如果當前元素和 i-2 位置的元素不相等，就將這個元素加入到 i 的位置，也就是不重複元素的最後一個位置。

最後返回 i 就是新數組的長度。